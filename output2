
Validating module in (/Users/jkbaumohl/Desktop/KBase_src/GenomeFileUtil)

Validating method in (/Users/jkbaumohl/Desktop/KBase_src/GenomeFileUtil/ui/narrative/methods/import_genome_gbk_ftp)

Validating method in (/Users/jkbaumohl/Desktop/KBase_src/GenomeFileUtil/ui/narrative/methods/import_genome_gbk_file)


Congrats- this module is valid.


Delete old Docker containers
8fa960ebd22d

Build Docker image
Sending build context to Docker daemon  444.1MB

Step 1/11 : FROM kbase/sdkbase2:python
 ---> a0a5dc7b1d08
Step 2/11 : MAINTAINER KBase Developer
 ---> Using cache
 ---> e2796159f122
Step 3/11 : RUN pip install biopython==1.70
 ---> Using cache
 ---> 5aaa01e89b05
Step 4/11 : RUN pip install mock
 ---> Using cache
 ---> 29d1c88d894e
Step 5/11 : COPY ./ /kb/module
 ---> 4a2f1d383021
Step 6/11 : RUN mkdir -p /kb/module/work
 ---> Running in 4fc92113ecf7
Removing intermediate container 4fc92113ecf7
 ---> b2926f3d3006
Step 7/11 : RUN chmod -R a+rw /kb/module
 ---> Running in 16489826cf9d
Removing intermediate container 16489826cf9d
 ---> 1b1c7b4cbc62
Step 8/11 : WORKDIR /kb/module
 ---> Running in 83638144a350
Removing intermediate container 83638144a350
 ---> 23bb031193e9
Step 9/11 : RUN make all
 ---> Running in 905c08502647
kb-sdk compile GenomeFileUtil.spec \
	--out lib \
	--pysrvname GenomeFileUtil.GenomeFileUtilServer \
	--pyimplname GenomeFileUtil.GenomeFileUtilImpl;
KBase SDK version 1.0.18 (commit 5242615c0582fe47e041112d6a5134e63da01d89)
chmod +x scripts/entrypoint.sh
mkdir -p bin
echo '#!/bin/bash' > scripts/start_server.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> scripts/start_server.sh
echo 'export KB_DEPLOYMENT_CONFIG=$script_dir/../deploy.cfg' >> scripts/start_server.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> scripts/start_server.sh
echo 'uwsgi --master --processes 5 --threads 5 --http :5000 --wsgi-file $script_dir/../lib/GenomeFileUtil/GenomeFileUtilServer.py' >> scripts/start_server.sh
chmod +x scripts/start_server.sh
mkdir -p bin
echo '#!/bin/bash' > bin/run_GenomeFileUtil_async_job.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> bin/run_GenomeFileUtil_async_job.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> bin/run_GenomeFileUtil_async_job.sh
echo 'python -u $script_dir/../lib/GenomeFileUtil/GenomeFileUtilServer.py $1 $2 $3' >> bin/run_GenomeFileUtil_async_job.sh
chmod +x bin/run_GenomeFileUtil_async_job.sh
echo '#!/bin/bash' > test/run_tests.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> test/run_tests.sh
echo 'export KB_DEPLOYMENT_CONFIG=$script_dir/../deploy.cfg' >> test/run_tests.sh
echo 'export KB_AUTH_TOKEN=`cat /kb/module/work/token`' >> test/run_tests.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> test/run_tests.sh
echo 'cd $script_dir/../test' >> test/run_tests.sh
echo 'python -m nose --with-coverage --cover-package=GenomeFileUtil --cover-html --cover-html-dir=/kb/module/work/test_coverage --nocapture  --nologcapture .' >> test/run_tests.sh
echo 'cp /kb/module/.coveragerc .' >> test/run_tests.sh
echo 'cp .coverage /kb/module/work/' >> test/run_tests.sh
echo 'mkdir -p /kb/module/work/kb/module/lib/' >> test/run_tests.sh
echo 'cp -R /kb/module/lib/GenomeFileUtil/ /kb/module/work/kb/module/lib/' >> test/run_tests.sh
chmod +x test/run_tests.sh
Removing intermediate container 905c08502647
 ---> a2ead19891e4
Step 10/11 : ENTRYPOINT [ "./scripts/entrypoint.sh" ]
 ---> Running in e56e6d6f349d
Removing intermediate container e56e6d6f349d
 ---> 2d53cd241fbc
Step 11/11 : CMD [ ]
 ---> Running in 937b1e249bde
Removing intermediate container 937b1e249bde
 ---> ae1b116282d9
Successfully built ae1b116282d9
Successfully tagged test/genomefileutil:latest
Delete old Docker image
Deleted: sha256:ed4731f40726791fe35f11271a1e0c7903023fcbf0d83ab1d8c4b82a20609fea
Deleted: sha256:f148332de5c1495889177b65d545a99bbef8d1bd604ed11bc1a2313b5ffdc3e6
Deleted: sha256:eccbb1257403ac86b9a04c482c3dc287f27209a4cc40582a58c287e7169ffbf5
Deleted: sha256:3137db6769f57a188b2ee2e750262219e8c78e5fc7933db1e5083f0c31b9faba
Deleted: sha256:e3a4c5b642b00bec6162d3ba6f29a56dab2d7e5505428dfd9962dc1b5dbc508f
Deleted: sha256:0d7d2eff742db1434a57604b8b2d6dc83b1a9644f0d237989fe5f4f8b7a20814
Deleted: sha256:0945dc374bdc73ac2ed320bdb9336bb67532d0660c985c7f5aa4d89d089d71e1
Deleted: sha256:e668ec78ee8a2f43ab59bf0f600e5424cf7f4d96ce5b68f6901d9db018c9e51c
Deleted: sha256:a53afa3091a0b460dd8fef65fc6a1eabea9576ae769e4ca9c70992c635d4a8ab
Deleted: sha256:e22762cb1ca083213fe02606c71dbea872720f589098c2e767195d10fd592b20
Deleted: sha256:d0be3d01a7eaab90c017a1854de4b58f4345fa5d196367719bcbecd9c8202239

Run Tests
if [ ! -f /kb/module/work/token ]; then echo -e '\nOutside a docker container please run "kb-sdk test" rather than "make test"\n' && exit 1; fi
bash test/run_tests.sh
1555098936.99 - CallbackServer: Subjob method: DataFileUtil.unpack_file JobID: 7d8b799f-fd92-4f7e-a026-ff66b336354b
1555098937.12 - CallbackServer: Running module DataFileUtil:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098938.7104583: Shock url: https://ci.kbase.us/services/shock-api
1555098940.43 - CallbackServer: Subjob method: DataFileUtil.file_to_shock JobID: 01fb15d5-f10b-46f4-9870-8cd99fff1add
1555098940.43 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098941.5761511: Shock url: https://ci.kbase.us/services/shock-api
1555098941.7057383: gzipping (with pigz) /kb/module/work/tmp/genome-upload-staging-ad4b2b30-1db9-4146-a1ee-f17feac93329/combined/Arab_Chloro_Modified.gbff to /kb/module/work/tmp/genome-upload-staging-ad4b2b30-1db9-4146-a1ee-f17feac93329/combined/Arab_Chloro_Modified.gbff.gz
1555098941.7309344: uploading file /kb/module/work/tmp/genome-upload-staging-ad4b2b30-1db9-4146-a1ee-f17feac93329/combined/Arab_Chloro_Modified.gbff.gz into shock node
1555098942.1230526: uploading done into shock node: 2e5b91fd-a7ad-4f65-8ad0-b2d468847fa8
1555098943.79 - CallbackServer: Subjob method: AssemblyUtil.save_assembly_from_fasta JobID: 2f2b7665-0c53-46f6-9299-18b85d996b4c
1555098943.83 - CallbackServer: Running module AssemblyUtil:
url: https://github.com/kbaseapps/AssemblyUtil
commit: 1e3b460b2ffaad690124b007eaff209aeae69d9d
version: 1.0.16
release: release

save_assembly_from_fasta -- paramaters = 
{'assembly_name': 'ArabidopsisChloro_assembly',
 'contig_info': {'NC_000932.1': {'is_circ': 1}, 'NC_000933.1': {'is_circ': 0}},
 'file': {'path': '/kb/module/work/tmp/ArabidopsisChloro_assembly.fasta'},
 'type': 'isolate',
 'workspace_name': 'test_GenomeFileUtil_1555098936787'}
validating parameters
staging input files
1555098945.13 - CallbackServer: Subjob method: DataFileUtil.unpack_file JobID: b3660ed0-9953-4115-a1cb-5889051368fb
1555098945.13 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098946.3151104: Shock url: https://ci.kbase.us/services/shock-api
parsing FASTA file: /kb/module/work/tmp/ArabidopsisChloro_assembly.fasta
 - parsed 2 contigs,154496 bp
saving assembly to KBase
Uploading FASTA file (/kb/module/work/tmp/ArabidopsisChloro_assembly.fasta) to SHOCK
1555098947.31 - CallbackServer: Subjob method: DataFileUtil.file_to_shock JobID: e9d7a7b3-fe13-452b-8f5b-e882815e6eeb
1555098947.31 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098948.8082986: Shock url: https://ci.kbase.us/services/shock-api
1555098948.9458568: uploading file /kb/module/work/tmp/ArabidopsisChloro_assembly.fasta into shock node
1555098949.417666: uploading done into shock node: baf569ac-99d5-4c74-babb-4f4c7714261c
1555098950.62 - CallbackServer: Subjob method: DataFileUtil.ws_name_to_id JobID: 65c8c59e-33b4-4b74-b2b2-451213d9d686
1555098950.62 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098951.9801264: Shock url: https://ci.kbase.us/services/shock-api
Saving Assembly to Workspace
1555098953.92 - CallbackServer: Subjob method: DataFileUtil.save_objects JobID: 3790e945-e583-44d5-a918-e05d1656d1fc
1555098953.92 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098955.1787868: Shock url: https://ci.kbase.us/services/shock-api
1555098969.67 - CallbackServer: Subjob method: DataFileUtil.get_objects JobID: 28142cc2-978e-4bce-807e-2c29508ff323
1555098969.67 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098970.8905675: Shock url: https://ci.kbase.us/services/shock-api
1555098973.69 - CallbackServer: Subjob method: DataFileUtil.ws_name_to_id JobID: 1b417d29-6109-4814-a9cd-954383fb9aef
1555098973.69 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098974.8567402: Shock url: https://ci.kbase.us/services/shock-api
1555098975.85 - CallbackServer: Subjob method: WsLargeDataIO.save_objects JobID: 230ef0e3-1aca-4cde-8eea-b95661a1caff
1555098975.88 - CallbackServer: Running module WsLargeDataIO:
url: https://github.com/kbaseapps/WsLargeDataIO
commit: 8d76a294f3877be83cce9b51daebe541acc107d3
version: 0.0.3
release: beta

JsonServerSyslog using package name us.kbase
WsLargeDataIO got SDK_CALLBACK_URL http://10.0.0.122:58974
1555098987.31 - CallbackServer: Subjob method: DataFileUtil.get_objects JobID: 2fa4f23a-53d0-4045-99aa-754307ba9bb1
1555098987.31 - CallbackServer: WARNING: Module DataFileUtil was already used once for this job. Using cached version:
url: https://github.com/kbaseapps/DataFileUtil
commit: bd85fa75be6a15a087a7e49bd4686dd05c6d5655
version: 0.0.27
release: release

1555098988.519452: Shock url: https://ci.kbase.us/services/shock-api
genbank_to_genome -- paramaters = 
{'file': {'path': 'data/Arabidopsis_gbff/Arab_Chloro_Modified.gbff'},
 'generate_ids_if_needed': 1,
 'genome_name': 'ArabidopsisChloro',
 'source': 'RefSeq Latest',
 'workspace_name': 'test_GenomeFileUtil_1555098936787'}
RL4742 RL4742
Zero_Span_two_exon Zero_Span_two_exon
RL4742A RL4742A
ArthCp001 ArthCp001
ArthCp001A None
MultiContigTransSpliced MultiContigTransSpliced
ArthCp004 ArthCp004
ArthCp053 ArthCp053
InvalidOrder InvalidOrder
ArthCp053_WO ArthCp053_WO
ArthCp004_WO ArthCp004_WO
ArthCp004_ENSEMBL ArthCp004_ENSEMBL
ArthCp047 ArthCp047
SPO1_87 SPO1_87
ArthCp005 ArthCp005
ArthCp006 ArthCp006
ArthCp007 ArthCp007
ArthCp008 ArthCp008
ArthCp009 ArthCp009
ArthCp010 ArthCp010
ArthCp011 ArthCp011
ArthCp012 ArthCp012
ArthCp013 ArthCp013
ArthCp014 ArthCp014
ArthCp015 ArthCp015
ArthCp015_non3 ArthCp015_non3
mrnas: 1.6 KiB
features: 43.6 KiB
non_coding_features: 13.6 KiB
cdss: 42.4 KiB
Total size 104.4 KiB 
import complete -- result = 
{'genome_info': [2,
                 'ArabidopsisChloro',
                 'KBaseGenomes.Genome-15.1',
                 '2019-04-12T19:56:22+0000',
                 1,
                 'jkbaumohl',
                 41619,
                 'test_GenomeFileUtil_1555098936787',
                 '5850f0dd57fcf208b08e176959c371ef',
                 104464,
                 {'Assembly Object': '41619/1/1',
                  'Domain': 'Eukaryota',
                  'GC content': '0.36295',
                  'Genetic code': '11',
                  'MD5': '6d0a8cea7e23001b119e21ccaa6356bf',
                  'Name': 'Arabidopsis thaliana',
                  'Number contigs': '2',
                  'Number of CDS': '26',
                  'Number of Genome Level Warnings': '9',
                  'Number of Protein Encoding Genes': '25',
                  'Size': '154496',
                  'Source': 'RefSeq',
                  'Source ID': 'NC_000932',
                  'Suspect Genome': '1',
                  'Taxonomy': 'cellular organisms; Eukaryota; Viridiplantae; '
                              'Streptophyta; Streptophytina; Embryophyta; '
                              'Tracheophyta; Euphyllophyta; Spermatophyta; '
                              'Magnoliophyta; Mesangiospermae; eudicotyledons; '
                              'Gunneridae; Pentapetalae; rosids; malvids; '
                              'Brassicales; Brassicaceae; Camelineae; '
                              'Arabidopsis'}],
 'genome_ref': '41619/2/1'}
Test workspace was deleted
Shutting down callback server...
1555098991.96 - CallbackServer: Shutting down executor service
